import{a as N,b as M}from"./chunk-J4NYNQ42.js";import{a as re,c as ae,e as se,j as ce}from"./chunk-R6PFQSX6.js";import{a as te,c as ie,d as x,e as ne,f as oe}from"./chunk-A5CJUZX6.js";import{a as me}from"./chunk-37SX64XK.js";import{$a as X,Da as b,Fa as u,Fb as ee,Ha as o,Ia as r,Ja as p,M as z,Ma as h,Na as l,Oa as d,Pa as $,Qa as c,R as B,Ra as y,Sa as I,Ta as J,Ua as q,Va as Y,W as C,Wa as K,Ya as _,Z as G,Za as V,_a as Q,a as L,b as j,ca as H,da as g,ea as v,ra as W,ta as a,ua as m,wb as P,xb as T,yb as Z,zb as S}from"./chunk-4CJDLHC2.js";function de(i,t){if(i&1){let e=h();o(0,"li",5)(1,"button",6),l("click",function(){g(e);let s=d();return v(s.navigateToSignUp())}),c(2,"Sign in"),r()()}}function ue(i,t){if(i&1){let e=h();o(0,"li",5)(1,"button",6),l("click",function(){g(e);let s=d();return v(s.navigateToUserPage())}),o(2,"span"),p(3,"i",7),r()()()}}function fe(i,t){if(i&1){let e=h();o(0,"li",5)(1,"button",6),l("click",function(){g(e);let s=d();return v(s.logout())}),c(2,"Logout"),r()()}}var E=class i{constructor(t){this.router=t}isLogin=!1;ngOnInit(){this.isLoginCheck()}ngOnChanges(){}navigateToSignUp(){this.router.navigate(["/signup"])}logout(){sessionStorage.removeItem("user"),sessionStorage.removeItem("isLogin"),this.router.navigate(["/"]),setInterval(()=>window.location.reload(),200)}navigateToUserPage(){sessionStorage.getItem("user")?this.router.navigate(["/user-page"]):(alert("Please Sing Up firth!"),this.router.navigate(["/signup"]))}navigateToMainPage(){this.router.navigate(["/"])}isLoginCheck(){sessionStorage.getItem("isLogin")=="true"&&(this.isLogin=!0)}static \u0275fac=function(e){return new(e||i)(m(x))};static \u0275cmp=C({type:i,selectors:[["app-navigation"]],standalone:!0,features:[H,_],decls:7,vars:3,consts:[[1,"navbar","d-flex","justify-content-between",2,"margin","0 auto"],["src","page-icon-new-horizons.svg",1,"navbar-brand",2,"width","150px",3,"click"],["id","navbarNavDropdown"],[1,"navbar-nav","d-flex","align-items-center"],["class","nav-item",4,"ngIf"],[1,"nav-item"],[1,"btn","btn-light",3,"click"],[1,"fa-regular","fa-user"]],template:function(e,n){e&1&&(o(0,"nav",0)(1,"img",1),l("click",function(){return n.navigateToMainPage()}),r(),o(2,"div",2)(3,"ul",3),b(4,de,3,0,"li",4)(5,ue,4,0,"li",4)(6,fe,3,0,"li",4),r()()()),e&2&&(a(4),u("ngIf",!n.isLogin),a(),u("ngIf",n.isLogin),a(),u("ngIf",n.isLogin))},dependencies:[S,T]})};function Ce(i,t){if(i&1){let e=h();o(0,"li",15)(1,"a",16),l("click",function(){let s=g(e).$implicit,f=d(2);return v(f.navigateToProductDetails(s.id))}),c(2),r()()}if(i&2){let e=t.$implicit;a(2),I(" ",e.title," ")}}function he(i,t){if(i&1&&(o(0,"ul",13),b(1,Ce,3,1,"li",14),r()),i&2){let e=d();a(),u("ngForOf",e.filteredProducts)}}var O=class i{constructor(t,e,n){this.contentService=t;this.router=e;this.cartStateService=n}products=[];filteredProducts=[];searchTerm="";ngOnInit(){this.fetchProducts()}get cartItems(){return this.cartStateService.cartCount()}navigateToProductDetails(t){let e=this.products.find(n=>n.id===t);e&&(this.router.navigate(["/product",t],{state:{product:e}}),this.searchTerm="")}fetchProducts(){this.contentService.getProduct().subscribe(t=>{this.products=t,this.filteredProducts=t},t=>{console.error("Error fetching products:",t)})}onSearch(){let t=this.searchTerm.trim().toLowerCase();t?this.filteredProducts=this.products.filter(e=>e.title.toLowerCase().includes(t)||e.category.toLowerCase().includes(t)):this.filteredProducts=this.products}static \u0275fac=function(e){return new(e||i)(m(N),m(x),m(M))};static \u0275cmp=C({type:i,selectors:[["app-search"]],standalone:!0,features:[_],decls:15,vars:3,consts:[[1,"container","mt-4"],[1,"row","align-items-center","justify-content-center"],[1,"col-md-11"],[1,"position-relative"],[1,"input-group","shadow-sm","rounded"],[1,"input-group-text","bg-white","border-0"],[1,"fa-solid","fa-magnifying-glass","text-muted"],["type","text","placeholder","Search for products...",1,"form-control","border-0","shadow-none","w-90",3,"ngModelChange","input","ngModel"],["class","list-group position-absolute w-100 bg-white shadow rounded mt-1 overflow-hidden","style","z-index: 1000; max-height: 250px; overflow-y: auto;",4,"ngIf"],[1,"col-md-1","text-center"],[1,"mb-0"],[1,"fa-solid","fa-cart-shopping",2,"font-size","2rem"],[1,"text-danger",2,"font-size","2rem"],[1,"list-group","position-absolute","w-100","bg-white","shadow","rounded","mt-1","overflow-hidden",2,"z-index","1000","max-height","250px","overflow-y","auto"],["class","list-group-item border-0",4,"ngFor","ngForOf"],[1,"list-group-item","border-0"],[1,"text-decoration-none","d-block","text-dark",3,"click"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),p(6,"i",6),r(),o(7,"input",7),K("ngModelChange",function(f){return Y(n.searchTerm,f)||(n.searchTerm=f),f}),l("input",function(){return n.onSearch()}),r()(),b(8,he,2,1,"ul",8),r()(),o(9,"div",9)(10,"p",10),p(11,"i",11),o(12,"strong")(13,"span",12),c(14),r()()()()()()),e&2&&(a(7),q("ngModel",n.searchTerm),a(),u("ngIf",n.searchTerm&&n.filteredProducts.length),a(6),y(n.cartItems))},dependencies:[S,P,T,ce,re,ae,se,oe]})};var D=class i{title="MY-GITA-PROJECT";static \u0275fac=function(e){return new(e||i)};static \u0275cmp=C({type:i,selectors:[["app-root"]],standalone:!0,features:[_],decls:5,vars:0,consts:[[1,"container"],[1,"row"],[1,"shadow-lg"],[2,"margin-top","7rem"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1),p(2,"app-navigation")(3,"app-search",2)(4,"router-outlet",3),r()())},dependencies:[ie,E,S,O],styles:["app-navigation[_ngcontent-%COMP%]{position:fixed;top:0;left:5%;width:90%;z-index:1000;background-color:#fff}app-search[_ngcontent-%COMP%]{position:fixed;top:50px;left:5%;width:90%;z-index:999;background-color:#fff}"]})};var k=class i{exchangeRate=2.74;transform(t,...e){return typeof t!="number"||isNaN(t)?t:"\u20BE"+(t*this.exchangeRate).toFixed(2)}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=G({name:"currencyConverter",type:i,pure:!0,standalone:!0})};function _e(i,t){if(i&1){let e=h();o(0,"div",3)(1,"div",4)(2,"div",5),p(3,"img",6),r(),o(4,"div",7)(5,"h5",8),c(6),r(),o(7,"p",9),c(8),r(),o(9,"p",10),c(10,"Category: "),o(11,"span",11),c(12),r()(),o(13,"div",12)(14,"div",13)(15,"button",14),l("click",function(){let s=g(e).$implicit,f=d();return v(f.navigateToProductDetails(s.id))}),p(16,"i",15),c(17," View "),r(),o(18,"button",16),l("click",function(){let s=g(e).$implicit,f=d();return v(f.addToCart(s))}),p(19,"i",17),c(20," Add to cart "),r(),o(21,"p",18),c(22),V(23,"currencyConverter"),V(24,"currency"),r()(),o(25,"div",19)(26,"span",20),c(27),r()()()()()()}if(i&2){let e=t.$implicit,n=d();a(3),$("alt",e.title),u("src",e.image,W),a(3),y(e.title),a(2),y(e.description),a(4),y(e.category),a(10),I(" ",e.price?n.selectedCurrency==="GEL"?Q(23,8,e.price):X(24,10,e.price,"USD"):"Price not available"," "),a(5),J("\u2B50 ",e.rating.rate," (",e.rating.count," reviews)")}}var R=class i{constructor(t,e,n,s){this.contentService=t;this.router=e;this.userCartService=n;this.cartState=s}mainContentData=[];categoriesData=[];selectedCurrency="USD";userId;ngOnInit(){this.fetchData(),this.getUserId()}fetchData(){this.contentService.getProduct().subscribe(t=>{this.mainContentData=t},t=>{console.error("Error fetching:",t)})}navigateToProductDetails(t){let e=this.mainContentData.find(n=>n.id===t);e&&this.router.navigate(["/product",t],{state:{product:e}})}toggleCurrency(t){this.selectedCurrency=t.target.checked?"GEL":"USD",console.log(this.selectedCurrency)}getUserId(){let t=sessionStorage.getItem("user");if(t){let e=JSON.parse(t);this.userId=e.userId,console.log("User ID:",this.userId)}else console.error("No user info found in session storage.")}addToCart(t){if(!this.userId){console.error("User ID is not available. Please log in.");return}let e=j(L({},t),{userId:this.userId,quantity:1});this.userCartService.createProduct(e).subscribe(n=>{console.log("Product added to cart:",n),this.cartState.addItem(e)},n=>{console.error("Error adding product to cart:",n)})}static \u0275fac=function(e){return new(e||i)(m(N),m(x),m(me),m(M))};static \u0275cmp=C({type:i,selectors:[["app-main-content"]],standalone:!0,features:[_],decls:3,vars:1,consts:[[1,"container","mt-4"],[1,"row","row-cols-1","row-cols-md-3","g-4"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","h-100","shadow-lg","border-0","rounded-4","overflow-hidden"],[1,"image-container","position-relative"],[1,"card-img-top","rounded-top-4",3,"src","alt"],[1,"card-body","d-flex","flex-column"],[1,"card-title","text-primary","fw-bold"],[1,"card-text","flex-grow-1","text-secondary"],[1,"text-muted","small"],[1,"fw-semibold"],[1,"mt-auto"],[1,"d-flex","justify-content-between","align-items-center"],["type","button",1,"btn","btn-outline-primary","btn-sm","px-3",3,"click"],[1,"bi","bi-eye"],["type","button",1,"btn","btn-danger","btn-sm","px-3",3,"click"],[1,"bi","bi-cart-plus"],[1,"text-muted","fw-semibold","mb-0"],[1,"mt-3"],[1,"badge","bg-warning","text-dark"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1),b(2,_e,28,13,"div",2),r()()),e&2&&(a(2),u("ngForOf",n.mainContentData))},dependencies:[S,P,Z,k],styles:[".image-container[_ngcontent-%COMP%]{margin-top:1rem;height:200px;display:flex;justify-content:center;align-items:center;overflow:hidden}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;width:auto;object-fit:cover}"]})};var F=class i{constructor(t){this.router=t}canActivate(){return sessionStorage.getItem("user")?!0:(this.router.navigate(["/signup"]),!1)}static \u0275fac=function(e){return new(e||i)(B(x))};static \u0275prov=z({token:i,factory:i.\u0275fac,providedIn:"root"})};var le=[{path:"",component:R},{path:"product/:id",loadComponent:()=>import("./chunk-6DEBVBEH.js").then(i=>i.ProductDetailsComponent)},{path:"signup",loadComponent:()=>import("./chunk-TZRUOSUB.js").then(i=>i.LoginRegistrationComponent)},{path:"user-page",loadComponent:()=>import("./chunk-UQOG2OIB.js").then(i=>i.UserPageComponent),canActivate:[F]}];te(D,{providers:[ne(le),ee()]}).catch(i=>console.error(i));
