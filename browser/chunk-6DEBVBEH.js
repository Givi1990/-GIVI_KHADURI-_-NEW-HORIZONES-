import{a as P,b as x}from"./chunk-J4NYNQ42.js";import{b as C,d as D}from"./chunk-A5CJUZX6.js";import{a as y}from"./chunk-37SX64XK.js";import{Fa as I,Ha as r,Ia as o,Ja as c,Na as d,Qa as a,Ra as l,Sa as S,W as f,Ya as h,a as p,b as v,ra as g,ta as s,ua as n,zb as b}from"./chunk-4CJDLHC2.js";var E=class u{constructor(e,i,t,m,U){this.router=e;this.route=i;this.contentService=t;this.userCartService=m;this.cartState=U}productDetails={};productId;userId;ngOnInit(){this.getParams(),this.getUserId()}getProductDetailsData(){this.contentService.getProductById(this.productId).subscribe(e=>{this.productDetails=e,console.log("Product Details:",this.productDetails)},e=>{console.error("Error fetching product:",e)})}getParams(){this.route.params.subscribe(e=>{this.productId=+e.id,this.getProductDetailsData()})}getUserId(){let e=sessionStorage.getItem("user");if(e){let i=JSON.parse(e);this.userId=i.userId,console.log("User ID:",this.userId)}else console.error("No user info found in session storage.")}addToCart(e){if(!this.userId){console.error("User ID is not available. Please log in.");return}let i=v(p({},e),{userId:this.userId,quantity:1});this.userCartService.createProduct(i).subscribe(t=>{console.log("Product added to cart:",t),this.cartState.addItem(i)},t=>{console.error("Error adding product to cart:",t)})}goBack(){this.router.navigate(["/"])}static \u0275fac=function(i){return new(i||u)(n(D),n(C),n(P),n(y),n(x))};static \u0275cmp=f({type:u,selectors:[["app-product-details"]],standalone:!0,features:[h],decls:29,vars:4,consts:[[1,"container","mt-5","mb-5"],[1,"row","d-flex","justify-content-center"],[1,"col-md-12"],[1,""],[1,"row"],[1,"col-md-6"],[1,"images","p-3"],[1,"text-center","p-4"],["id","main-image","width","250",3,"src"],[1,"product","p-4"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-light",3,"click"],[1,"fa","fa-long-arrow-left"],[1,"ml-1"],[1,"mt-4","mb-3"],[1,"text-uppercase"],[1,"price","d-flex","flex-row","align-items-center"],[1,"act-price"],[1,"about"],[1,"cart","mt-4","align-items-center"],[1,"btn","btn-danger","text-uppercase","mr-2","px-4",3,"click"],[1,"fa","fa-heart","text-muted"],[1,"fa","fa-share-alt","text-muted"]],template:function(i,t){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),c(8,"img",8),o()()(),r(9,"div",5)(10,"div",9)(11,"div",10)(12,"button",11),d("click",function(){return t.goBack()}),c(13,"i",12),r(14,"span",13),a(15,"Back"),o()()(),r(16,"div",14)(17,"h5",15),a(18),o(),r(19,"div",16)(20,"span",17),a(21),o()()(),r(22,"p",18),a(23),o(),r(24,"div",19)(25,"button",20),d("click",function(){return t.addToCart(t.productDetails)}),a(26,"Add to cart"),o(),c(27,"i",21)(28,"i",22),o()()()()()()()()),i&2&&(s(8),I("src",t.productDetails.image,g),s(10),l(t.productDetails.title),s(3),S("$",t.productDetails.price,""),s(2),l(t.productDetails.description))},dependencies:[b]})};export{E as ProductDetailsComponent};
